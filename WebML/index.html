<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Base Machine Learning API: Use Cases and Requirements</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version fa5b8b17ec5b76772d473054c6882432da32a814" name="generator">
  <link href="https://angelokai.github.io/WebML/index.html" rel="canonical">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">Base Machine Learning API: Use Cases and Requirements</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">A Collection of Interesting Ideas, <time class="dt-updated" datetime="2017-10-09">9 October 2017</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://angelokai.github.io/WebML/index.html">https://angelokai.github.io/WebML/index.html</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/AngeloKai/WebML/issues/">GitHub</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard" data-editor-id="94342"><a class="p-name fn u-email email" href="mailto:huliao@microsoft.com">Angelo Liao</a> (<span class="p-org org">Microsoft</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://creativecommons.org/publicdomain/zero/1.0/" rel="license"><img alt="CC0" src="https://licensebuttons.net/p/zero/1.0/80x15.png"></a> To the extent possible under law, the editors have waived all copyright
and related or neighboring rights to this work.
In addition, as of 9 October 2017,
the editors have made this specification available under the <a href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0" rel="license">Open Web Foundation Agreement Version 1.0</a>,
which is available at http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This explainer describes the motivation for creating a new set of APIs designed to

accelerate machine learning operations in web applications. Based on the motivations, it
sketches out a set of requirements for designing the APIs. The APIs should remain generic
and baisc enough to support a broad range of machine learning functionalities. For example,
providing an API for fast matrix multiplication for sparse matrix accelerates performance
for a wide variety of machine learning operations.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#status"><span class="secno">1</span> <span class="content">Status of this document</span></a>
    <li><a href="#intro"><span class="secno">2</span> <span class="content">Introduction</span></a>
    <li><a href="#terminology"><span class="secno">3</span> <span class="content">Terminology</span></a>
    <li>
     <a href="#status-quo"><span class="secno">4</span> <span class="content">Status Quo</span></a>
     <ol class="toc">
      <li><a href="#native-platform"><span class="secno">4.1</span> <span class="content">Native Platforms</span></a>
      <li><a href="#web-developer-interest"><span class="secno">4.2</span> <span class="content">Web Developer Interests</span></a>
     </ol>
    <li>
     <a href="#use-cases"><span class="secno">5</span> <span class="content">Use Cases</span></a>
     <ol class="toc">
      <li><a href="#offline-recommendation"><span class="secno">5.1</span> <span class="content">Offline Recommendation Engine</span></a>
      <li><a href="#text-translation"><span class="secno">5.2</span> <span class="content">Text Translation</span></a>
      <li><a href="#object-detection"><span class="secno">5.3</span> <span class="content">Object Detection from Images/Videos</span></a>
      <li><a href="#risk-analysis"><span class="secno">5.4</span> <span class="content">Risk Analysis</span></a>
      <li><a href="#emotional-experience"><span class="secno">5.5</span> <span class="content">Rich Interactive Experience</span></a>
      <li><a href="#mixed-reality"><span class="secno">5.6</span> <span class="content">Mixed Reality Experience</span></a>
     </ol>
    <li>
     <a href="#bottlenecks"><span class="secno">6</span> <span class="content">Requirements</span></a>
     <ol class="toc">
      <li><a href="##challenges"><span class="secno">6.1</span> <span class="content">Challenges</span></a>
     </ol>
    <li><a href="#requirements"><span class="secno">7</span> <span class="content">Requirements</span></a>
    <li>
     <a href="#related-research"><span class="secno">8</span> <span class="content">Related Research</span></a>
     <ol class="toc">
      <li><a href="#quantization"><span class="secno">8.1</span> <span class="content">Quantization</span></a>
      <li><a href="#huffman-coding"><span class="secno">8.2</span> <span class="content">Huffman Coding</span></a>
      <li><a href="#Discretization"><span class="secno">8.3</span> <span class="content">Discretization</span></a>
      <li><a href="#sparse-matrix"><span class="secno">8.4</span> <span class="content">Sparse Matrix</span></a>
     </ol>
    <li>
     <a href="#related-standards"><span class="secno">9</span> <span class="content">Existing Standard APIs</span></a>
     <ol class="toc">
      <li><a href="#pretrained-apis"><span class="secno">9.1</span> <span class="content">APIs Built on Pre-Trained Model</span></a>
      <li><a href="#webgl"><span class="secno">9.2</span> <span class="content">WebGL</span></a>
      <li><a href="#web-assembly"><span class="secno">9.3</span> <span class="content">Web Assembly</span></a>
      <li><a href="#web-gpu"><span class="secno">9.4</span> <span class="content">WebGPU</span></a>
     </ol>
    <li><a href="#strawman"><span class="secno">10</span> <span class="content">Strawman Proposal</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="status"><span class="secno">1. </span><span class="content">Status of this document</span><a class="self-link" href="#status"></a></h2>
   <p>This is a <strong>really unofficial</strong> draft. It’s not meant to capture any consensus, beyond
my own personal feelings about what sounds interesting. It is provided for discussion only and may 
change at any moment, and should not be taken as "official" or even "unofficial, but planned". Its 
publication here does not imply endorsement of its contents by W3C or by Microsoft. Don’t cite this 
document other than as a collection of interesting ideas.</p>
   <h2 class="heading settled" data-level="2" id="intro"><span class="secno">2. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>Machine Learning (ML) algorithms have been significantly improved in terms of accuracy, reliability,
and performance in recent years. While typically thought of a technology for the cloud, machine 
learning have its applications on the device as well. Developing a machine learning model usually 
involves two stages: training and inference. In the first stage, the developer decides
on a skeleton model and feed large dataset to the model in repeated iterations to <em>train</em> the model. 
Then the model would then be ported to production environment to <em>infer</em> insights based on real 
time incoming data. While training is typically performed on the cloud, Inference can occur in the 
cloud or on the device. Performing inference on the device have many desirable properties including performance 
boost due to <a href="https://en.wikipedia.org/wiki/Edge_computing">edge computing</a>, resistance 
toward poor or no network, and security/privacy protection, etc.</p>
   <p>Although platforms for native applications have all shipped APIs to support machine learning
inference on device, similiar functionalities have been missing on the web platform. Supporting 
such functionalities can not only supercharge existing applications but 
also unlock new scenarios. For example, with the help of service worker, developers can have their 
text translation application to be available offline. By inferring the user’s emotions based on
user’s input (be it text, image, or video), developers can build a rich emotional experience. 
Applications on new frontiers such as Mixed Reaility can become much "smarter."</p>
   <p>Today when web developers want to develop machine learning models,
they face bottlenecks in terms of memory, performance, and power consumptions. Although 
various existing APIs ease the pain a little, a new set of APIs are necessary for unlocking ML 
on the web.</p>
   <p>The explainer describes the use cases and developer interests that motivate the API, examines
existing platform support, demonstrats a few known techniques to break the performance bottlenecks,
and sketches out a initial set of requirements for the final API design. It is important to note 
that machine learning is a broad field. The explainer focuses on some areas (such as neural 
network) I found particularly
interesting but there are other areas that haven’t been mentioned yet. The explainer is written to
spark conversations about ML on the web and additions/corrections are welcomes.</p>
   <h2 class="heading settled" data-level="3" id="terminology"><span class="secno">3. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <dl>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="machine-learning">machine learning<a class="self-link" href="#machine-learning"></a></dfn>
    <dd data-md="">
     <p>A field of study that gives computers the ability to learn without explicitly programmed,
according to the Arthur Samuel who coined the term in 1959. This is in constrat with 
purpose-built software programs that has its behavior logic explicitly defined by 
developers.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="neural-networks">neural networks<a class="self-link" href="#neural-networks"></a></dfn>
    <dd data-md="">
     <p>A set of machine learning algorithms that take inspiration from the way brains operate. It is
generally believed that the main computational unit of the brain is the neurons and network
of neurons enable brains to "compute."</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="deep-neural-networks">deep neural networks<a class="self-link" href="#deep-neural-networks"></a></dfn>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="dnns">DNNs<a class="self-link" href="#dnns"></a></dfn>
    <dd data-md="">
     <p>A subset of neural network algorithms that use multiple layers of neural network. The use of
DNNs is behind several recent big breakthroughs in mahcine learning.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="training">training<a class="self-link" href="#training"></a></dfn>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="train">train<a class="self-link" href="#train"></a></dfn>
    <dd data-md="">
     <p>Typically the first stage during development machine learning models. Developing machine
learning applications typically involve two stages: training and inference. 
Training the network
or model involves processing the data, feeding the data to determine the appropriate
values in the network, and determine if the accuracy of the model is sufficient. Once 
trained, the model should be considered sufficiently accurate for it pre-determined 
purpose. Because training usually involves a very large dataset and many rounds of
iterations, developers generally train the network on the cloud or machines with high 
computing power.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="inference">inference<a class="self-link" href="#inference"></a></dfn>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="infer">infer<a class="self-link" href="#infer"></a></dfn>
    <dd data-md="">
     <p>Typically the second stage during development machine learning models. Developing machine
learning applications typically involve two stages: training and inference. At 
this stage, developers optimize their machine learning models for production environment. 
Depending on the scenarios, 
developers may accept a small drop of accuracy for the sake of speed or size.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="incremental-learning">incremental learning<a class="self-link" href="#incremental-learning"></a></dfn>
    <dd data-md="">
     <p>A possible follow-up stage after the developer developed the initial model. Developers
can use the incremental learning technique to improve the existing model.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="transfer-learning">transfer learning<a class="self-link" href="#transfer-learning"></a></dfn>
    <dd data-md="">
     <p>Developers can use a technique called transfer learning to use learning from one model to
develop another model. For example, a model trained to recognize animals can be used to 
recognize dogs.</p>
   </dl>
   <h2 class="heading settled" data-level="4" id="status-quo"><span class="secno">4. </span><span class="content">Status Quo</span><a class="self-link" href="#status-quo"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="native-platform"><span class="secno">4.1. </span><span class="content">Native Platforms</span><a class="self-link" href="#native-platform"></a></h3>
   <p>All native application platforms have shippped APIs to support machine
learning and/or neural networks. For example, iOS and MacOS shipped <a href="https://developer.apple.com/documentation/accelerate/bnns">Basic Neural Network
Subroutines (BNNS)</a> and updated <a href="https://developer.apple.com/documentation/accelerate">Accelerate Framework</a> for <a href="https://developer.apple.com/documentation/coreml">Core ML</a>. The <a href="https://docs.microsoft.com/en-us/windows/uwp/get-started/universal-application-platform-guide"> Universal Windows Platform (UWP)</a> has added <a href="https://docs.microsoft.com/en-us/cognitive-toolkit/CNTK-Library-Evaluation-on-UWP">support</a> for CNTK. Android is also said to release a Deep Neural Network API soon.</p>
   <p>Platform and developers have also built extensive framework on top of these APIs for mobile
scenarios. Examples include Facebook’s <a href="https://code.facebook.com/posts/196146247499076/delivering-real-time-ai-in-the-palm-of-your-hand/"> Caffe2go</a>, Google’s <a href="https://www.tensorflow.org/mobile/">TensorFlow Lite</a>, Apple’s <a href="https://developer.apple.com/documentation/coreml">CoreML Framework</a>, and <a href="https://docs.microsoft.com/en-us/cognitive-toolkit/CNTK-Library-Evaluation-on-UWP">CNTK’s 
support for UWP</a>.</p>
   <h3 class="heading settled" data-level="4.2" id="web-developer-interest"><span class="secno">4.2. </span><span class="content">Web Developer Interests</span><a class="self-link" href="#web-developer-interest"></a></h3>
   <p>The web development community has shown strong interest in machine learning by creating
libraries or frameworks to simplify neural network development. 
For example, Andrej Karpathy developed the <a href="https://github.com/karpathy/convnetjs">ConvNetJS</a> library, which can be used to build 
convolutional networks, deep neural networks etc. Another example is the <a href="https://github.com/cazala/synaptic">Synaptic.js</a> library, which implements a recurrent 
neural network architecture. For a comprehensive look at existing libraries, click <a href="https://github.com/AngeloKai/js-ml-libraries">here</a>.</p>
   <p>Although the above libraries cover many use cases already, they do suffer from performance/memory
bottlenecks problems. The <a href="https://github.com/transcranial/keras-js">keras.js</a> library 
sought to address the problem by using WebGL in a clever way. Because WebGL can compute data 
directly in GPU memory, the performance does show significant improvement in lab settings. However, 
because WebGL cannot be accessed by WebWorkers, it can be difficult for production sites to adopt. 
More limitations on WebGL will be discussed in the section below.</p>
   <h2 class="heading settled" data-level="5" id="use-cases"><span class="secno">5. </span><span class="content">Use Cases</span><a class="self-link" href="#use-cases"></a></h2>
   <p>Developers may use machine learning for a variety of purposes. Drawing inspirations from existing
demos and production sites/apps, this section 
illustrates a few sample use cases. As mentioned above, this document is meant to inspire 
discussions in this space among browser vendors and the web development community.</p>
   <h3 class="heading settled" data-level="5.1" id="offline-recommendation"><span class="secno">5.1. </span><span class="content">Offline Recommendation Engine</span><a class="self-link" href="#offline-recommendation"></a></h3>
   <p>A web application built with Service Work to be network resistant may wish to build its
recommendation engine offline. For example, a site serving images/GIFs/video as content may 
wish to serve users smart content feed with content cached with Service Worker. Or a productivity
application with many different features like Office may wish to provide <a href="https://support.office.com/en-us/article/Where-is-the-product-Help-in-Office-2016-199950c6-1260-44fe-ba2e-e95968d05397">Help</a> when user is 
for users looking to know which feature when the user is offline or traveling with poor network.</p>
   <h3 class="heading settled" data-level="5.2" id="text-translation"><span class="secno">5.2. </span><span class="content">Text Translation</span><a class="self-link" href="#text-translation"></a></h3>
   <p>A web application may wish to translate text from one language to another offline.
The Google Translate service trained a machine learning model to translate between languages 
and ported the model to its mobile app. The mobile app can be used offline, though translation
may be better online.</p>
   <h3 class="heading settled" data-level="5.3" id="object-detection"><span class="secno">5.3. </span><span class="content">Object Detection from Images/Videos</span><a class="self-link" href="#object-detection"></a></h3>
   <p>A web application may wish to recognize objects from images or videos. For example, <a href="https://en.wikipedia.org/wiki/Baidu">Baidu</a> built
convolutional neural networks (CNNs) into its mobile app so that the app can detect the main 
object
in the live camera feed and search related merchandise based on the result
(<a href="https://github.com/baidu/mobile-deep-learning">baidu deep learning framework</a>).</p>
   <p>In addition to generic object recognition, an application may wish to train their model to
focus on a few classes of objects for the sake of more specific classification. For example, 
an application may want to let users give their credit card number with live camera feed. 
A generic text detection model may be a lot less accurate than a specific model trained with 
only credit card numbers. Or a web application for streaming/uploading videos may wish to p
erform live check of 
the camera feed to ensure the user isn’t showing obscene content for law compliance purpose. 
Or a web application may allow users to diagnose whether they likely have skin cancers themselves 
with live camera feed 
(<a href="http://www.nature.com/nature/journal/v542/n7639/full/nature21056.html?foxtrotcallback=true">Esteve et al, 2017</a>).</p>
   <p>An application may also wish to let the front-end code to do identification and leave the
task of classification to the back-end. Object detection usually consists of two stages: 
identification and classification. The detection model first <em>identifies</em> the objects in an image
and then <em>classifies</em> the objects to know whether the object is an animal. For example, in the above
skin cancer recognition example, the application may wish to let the front-end code to identify 
the mole and leave the task of classifying whether there’s cancer to the back-end.</p>
   <h3 class="heading settled" data-level="5.4" id="risk-analysis"><span class="secno">5.4. </span><span class="content">Risk Analysis</span><a class="self-link" href="#risk-analysis"></a></h3>
   <p>A web application may wish to deploy a small scale risk analysis model to determine whether the
transaction should be pre-approved and leave the final decision to the full-scale risk models on
the backend. Quick pre-approval improves user experience while reduce cost for running the model.</p>
   <h3 class="heading settled" data-level="5.5" id="emotional-experience"><span class="secno">5.5. </span><span class="content">Rich Interactive Experience</span><a class="self-link" href="#emotional-experience"></a></h3>
   <p>A web application may wish to detect user’s emotion based on user input and dynamically change
the interaction model. For example, a social media site may wish to detect user’s emotion when
user’s typing the post and recommend the right emoji to use. If the user wishes to post picture
alongside the post, the application can also recommend appropriately based on the post.</p>
   <h3 class="heading settled" data-level="5.6" id="mixed-reality"><span class="secno">5.6. </span><span class="content">Mixed Reality Experience</span><a class="self-link" href="#mixed-reality"></a></h3>
   <p>A web application built for mixed reality platforms may wish to leverage machine learning to
anticipate user intention and movement in order to cleverly render content.</p>
   <h2 class="heading settled" data-level="6" id="bottlenecks"><span class="secno">6. </span><span class="content">Requirements</span><a class="self-link" href="#bottlenecks"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="#challenges"><span class="secno">6.1. </span><span class="content">Challenges</span><a class="self-link" href="#%23challenges"></a></h3>
   <p>Performing machine learning inference on the web faces challenges in several areas: file size,
memory, performance, and power consumtion. First, machine learning models typically have a large 
file size. The streamlined mobile version of TensorFlow by itself can take around 10 megabytes. 
A full model would add at least about 10 megabytes. Second, ML programs, 
especially deep neural networks, often instantiates many matrices 
throughout the computation cycle and may exceed 
max memory limit. Third, as illustrated below, the current web platform has poor support for 
the typical kind of mathmatical computation that machine learning programs use. Finally,
today if a model were to be run inside a web application, it can suck up significant power.</p>
   <h2 class="heading settled" data-level="7" id="requirements"><span class="secno">7. </span><span class="content">Requirements</span><a class="self-link" href="#requirements"></a></h2>
   <p>Therefore the web platform should offer APIs that aim at the below goals:</p>
   <ol>
    <li data-md="">
     <p>Provide APIs that are generic and basic enough to cover large range of machine learning
algorithms including deep neural networks, decision-trees, etc.</p>
    <li data-md="">
     <p>Optimize toward small file size and memory consumption.</p>
    <li data-md="">
     <p>Make of use of possible hardware acceleration, such as the use of
ASICs/GPUs/CPUs/DSPs, and parallelization to maximize performance gain.</p>
    <li data-md="">
     <p>Balance between hardware acceleration and the level of abstraction needed for the web platform.</p>
    <li data-md="">
     <p>Designed with focus on inference instead of training, such as a easy way to port trained models
into inference-ready models.</p>
   </ol>
   <h2 class="heading settled" data-level="8" id="related-research"><span class="secno">8. </span><span class="content">Related Research</span><a class="self-link" href="#related-research"></a></h2>
   <p>The design of an appropriate API surface for machine learning inference should incorporate
learnings from research about optimizing machine learning models to run on devices with 
low computational power such as IoT devices. The section covers a few sample 
techniques for inspiration purpose: quantization, huffman coding, discretization, and sparse 
matrix.</p>
   <p>A common theme among the techniques is they are all trade-offs between accuracy and other
qualities.</p>
   <h3 class="heading settled" data-level="8.1" id="quantization"><span class="secno">8.1. </span><span class="content">Quantization</span><a class="self-link" href="#quantization"></a></h3>
   <p>Quantization refers to a group of techniques ot convert high precision floating point numbers
typically used in the training phase to low precision compact format numbers. Doing so allows 
us to reduce the file size and accelerate the computation. This technique is particularly 
useful for DNNs.</p>
   <p>During the training stage, programs typically compute in high precision floating point numbers.
That is because the biggest challenge in training is to get the models to work and floating 
number is best at preserving accuracy. After all tasks like training neural network is 
essentially keep tweaking the weights of the network until a satifatory result is obtained. 
Plus developers usually have access to lot of GPUs
during training and GPUs work very well with floating point numbers. Doing so would allow 
training to run a lot faster so to not waste development time.</p>
   <p>During the inference, the main challenge becomes the shrinking the file size. As it turns out,
converting 32 bit numbers into 8 bit numbers shrinks the file size and memory throughput 
by four times. The same goes for caches and SIMD instructions. Because 
many machine learning algorithms are now well-equipped to handle statistical noise, reducing 
precision often doesn’t lead to too much decrease in accuracy. Although low precision may not
matter that much for GPUs, it can matter a lot for DSPs which are usually designed to operate 
with 8 bit numbers. Nowadays most computers including smartphones come with DSPs.</p>
   <h3 class="heading settled" data-level="8.2" id="huffman-coding"><span class="secno">8.2. </span><span class="content">Huffman Coding</span><a class="self-link" href="#huffman-coding"></a></h3>
   <p>Huffman coding is a commonly used compression alogrithm that uses variable-length codeward to
encode symbols. Studies suggest Huffman coding can usually shrink network file size by about 
20% to 30%. The technique can be used after quantization to reduce size.</p>
   <h3 class="heading settled" data-level="8.3" id="Discretization"><span class="secno">8.3. </span><span class="content">Discretization</span><a class="self-link" href="#Discretization"></a></h3>
   <p>Discretization is the process to transfer continious functions to to discrete numbers. Some
may argue quantization is part of discretization. One thing to call out about this technique 
is that this really helps decrease power consumption.</p>
   <h3 class="heading settled" data-level="8.4" id="sparse-matrix"><span class="secno">8.4. </span><span class="content">Sparse Matrix</span><a class="self-link" href="#sparse-matrix"></a></h3>
   <p>Most machine learning problems don’t involve a densely populated matrix. Adopting sparse matrix
data structures and specifical numerical methods for those data structures can significantly 
reduce the size of the memory.</p>
   <h2 class="heading settled" data-level="9" id="related-standards"><span class="secno">9. </span><span class="content">Existing Standard APIs</span><a class="self-link" href="#related-standards"></a></h2>
   <p>Today several standard APIs do exist to help developers make use of machine learning tehcnologies
in their web applications. For example, the Web Speech API lets developers use speech-to-text 
bidirectional conversion technology. The WebGL API gives developers a path to 
leverage GPU in matrix computation, though the path is not straight forward as one may hope. 
The same goes for the WebGPU API proposal put forth by WebKit earlier this year. 
The Web Assembly API lets developers transpile their
existing trained networks written in C++ to binaries that can be run on the browser.</p>
   <p>However, none of the existing standards was created with supporting machine learning on the web
in mind and therefore does not provide sufficent support machine learning
on the platform. Although each of them helps with one subset of the problems, a generic solution
is needed.</p>
   <h3 class="heading settled" data-level="9.1" id="pretrained-apis"><span class="secno">9.1. </span><span class="content">APIs Built on Pre-Trained Model</span><a class="self-link" href="#pretrained-apis"></a></h3>
   <p>In the past few years, we have added support for a few new APIs that relies on machine learning
technologies. The <a href="https://dvcs.w3.org/hg/speech-api/raw-file/tip/webspeechapi.html">Web
Speech API</a> enables developers to easily convert text content to speech and speech content to 
text. Both features are possible because of advancements we made in the natural language 
processing field, a sub-field of machine learning. The <a href="https://w3c.github.io/webauthn/">Web Authentication API</a> enables web developers to 
authenticate users with strong authenticators, such as fingerprint scanners, facial recognition
systems etc. Biometric authenticators all employ machine learning technologies one way or another. 
The <a href="https://github.com/WICG/shape-detection-api">Shape Detection API</a>, a recent
addition to the <a href="https://www.w3.org/community/wicg/">Web Incubator CG</a>, allow developers
to detect faces, barcodes, and text in live or still images. Object detection technologies are 
often based on research in machine learning, which in turn furthered research in <a href="https://en.wikipedia.org/wiki/Image_processor">Image Signal Processors (ISPs)</a>.</p>
   <p>One of the common motivations behind building the above APIs are the machine models are
computationaly expensive. Yet it is unscalable to continue adding APIs to the platform for the 
reason of computational cost. There should be a generic solution that can bring down the 
computational cost of doing machine learning on the web platform.</p>
   <h3 class="heading settled" data-level="9.2" id="webgl"><span class="secno">9.2. </span><span class="content">WebGL</span><a class="self-link" href="#webgl"></a></h3>
   <p>The WebGL API was designed to render 3D and 2D graphic content and make use of GPUs behind the
scene when necessary. Given that most of graphic processing relies on matrix computation, 
web developers have developed libraries that wrap around WebGL to accelerate matrix computation. 
However, as I illustrate below, such libraries are not developer-friendly and often very taxing 
on memory. 
Take the example of <a href="https://github.com/waylonflinn/weblas/blob/master/index.js#L59">this 
matrix multiplication method</a>. The method has to first instantiates two RGBA texel array,
tranpose one of the arrays, create 2 input textures and 1 output texture, activate the shader, 
bind input texture, set shader parameters, bind output texture, and finally call drawElements to 
calculate the matrix. After the calculation, it also has to unbind all the textures. A simple 
matrix multiplication should only need to instantiate one new matrix in memory instead of five (
two arrays and three textures).</p>
   <p>Although next generation of WebGL API can include more support for direct mathmatical computation,
one can argue that this goal is not within the charter of an API that is designed for drawing 
graphics. In addition, the next WebGL (WebGL 3.00 are still far away given that Chrome and Firefox
has just implemented the support for the 2.0 version earlier this year.</p>
   <h3 class="heading settled" data-level="9.3" id="web-assembly"><span class="secno">9.3. </span><span class="content">Web Assembly</span><a class="self-link" href="#web-assembly"></a></h3>
   <p>WebAssembly is a new low-level assembly-like language with a compact binary format and near-native
performance. Programs written in C/C++ can be compiled directly to this format to run on the web. 
On the browsers, WebAssembly programs run in a sandbox that can be used alongside JavaScript.</p>
   <p>As previously stated, systemic support for Machine Learning programs should aim for allowing
programs to have the least memory needed, provide most performance support, and preferably ease
developer pain in importing their trained model to the web. Mainstream machine learning frameworks
usually can produce models in C++ format. Given the above three goals, WebAssembly seems like 
a fitting solution for ML.</p>
   <p>However, the current WebAseembly design do have a few shortcomings when it comes to being applied
to ML. First of all, WebAseembly does not have GPU support, a well-known performance accelerator 
for ML. Second, WebAssembly lacks support for running in WebWorkers. Because ML models can take up to
several hundred megabytes and unpredictable, developers should be discouraged from running the models 
in the UI thread. Third, Bottlenecks brought by network conditions are often motivations behind
doing ML computation on the client. Common matrix functions can be large in size. 
Because WebAssembly is running on a blank slate, the developers have to load related libraries 
by themselves. If the libraries are built into the platform, much less speed requirement is needed. 
For example, developers would have to define their own matrix/format data type.</p>
   <h3 class="heading settled" data-level="9.4" id="web-gpu"><span class="secno">9.4. </span><span class="content">WebGPU</span><a class="self-link" href="#web-gpu"></a></h3>
   <p>WebGPU API is a new incubating API that aims at exposing modern GPU features. Its initial API set
is a derivation from the Metal language. Prototype for the API has landed in WebKit.</p>
   <p>Although the API aims at exposing low-level GPU functionalities, its <a href="https://webkit.org/wp-content/uploads/webgpu-api-proposal.html">initial API set is 
primarily geared toward graphics rendering and not direct mathmatical computation. Research has 
also shown that while GPU accelerates computing, chips can be designed in ways that make them much 
better at machine learning computing. For example, </a><a href="https://en.wikipedia.org/wiki/Quantization_(signal_processing)">quantization</a>, a 
common technique to shrink number to less-than-32-bit representation, has proven to be a 
efficient technique to reduce the size of programs. Companies have produced chips designed
for machine learning for personal devices instead of using GPUs, such as <a href="https://www.movidius.com/technology">Movidius' (an Intel company) Myriad VPU</a>, the <a href="https://www.ibm.com/blogs/research/2016/09/deep-learning-possible-embedded-systems-thanks-truenorth/"> IBM’s TrueNorth chips</a>, or <a href="https://www.intelnervana.com/technology/">Intel’s 
Nervana</a>If the aim of the WebGPU API is to expose interface for the modern GPU, 
it would not be suitable for the machine learning field.</p>
   <h2 class="heading settled" data-level="10" id="strawman"><span class="secno">10. </span><span class="content">Strawman Proposal</span><a class="self-link" href="#strawman"></a></h2>
   <p>The section includes a strawman proposal of API surface as the beginning point of the
conversation.</p>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed">Exposed</a>=<span class="n">Windows</span>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext">SecureContext</a>]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="matrix"><code>Matrix</code></dfn> {
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer"><span class="kt">ArrayBuffer</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="attribute" data-export="" data-readonly="" data-type="ArrayBuffer" id="dom-matrix-rawmatrix"><code>rawMatrix</code><a class="self-link" href="#dom-matrix-rawmatrix"></a></dfn>; 
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><span class="kt">unsigned</span> <span class="kt">long</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="attribute" data-export="" data-readonly="" data-type="unsigned long" id="dom-matrix-height"><code>height</code><a class="self-link" href="#dom-matrix-height"></a></dfn>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><span class="kt">unsigned</span> <span class="kt">long</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="attribute" data-export="" data-readonly="" data-type="unsigned long" id="dom-matrix-width"><code>width</code><a class="self-link" href="#dom-matrix-width"></a></dfn>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="attribute" data-export="" data-readonly="" data-type="boolean" id="dom-matrix-istransposed"><code>isTransposed</code><a class="self-link" href="#dom-matrix-istransposed"></a></dfn>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="attribute" data-export="" data-readonly="" data-type="boolean" id="dom-matrix-isvector"><code>isVector</code><a class="self-link" href="#dom-matrix-isvector"></a></dfn>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name">int</a> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="attribute" data-export="" data-readonly="" data-type="int" id="dom-matrix-bitsize"><code>bitSize</code><a class="self-link" href="#dom-matrix-bitsize"></a></dfn>; // Represent which numerical representation is used

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="fromJSON(str)" id="dom-matrix-fromjson"><code>fromJSON</code><a class="self-link" href="#dom-matrix-fromjson"></a></dfn> (<a class="n" data-link-type="idl-name">String</a> <dfn class="nv idl-code" data-dfn-for="Matrix/fromJSON(str)" data-dfn-type="argument" data-export="" id="dom-matrix-fromjson-str-str"><code>str</code><a class="self-link" href="#dom-matrix-fromjson-str-str"></a></dfn>);
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="fromArray(buf)" id="dom-matrix-fromarray"><code>fromArray</code><a class="self-link" href="#dom-matrix-fromarray"></a></dfn> (<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①"><span class="kt">ArrayBuffer</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix/fromArray(buf)" data-dfn-type="argument" data-export="" id="dom-matrix-fromarray-buf-buf"><code>buf</code><a class="self-link" href="#dom-matrix-fromarray-buf-buf"></a></dfn>);

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="multiply(a, b)" id="dom-matrix-multiply"><code>multiply</code><a class="self-link" href="#dom-matrix-multiply"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/multiply(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-multiply-a-b-a"><code>a</code><a class="self-link" href="#dom-matrix-multiply-a-b-a"></a></dfn>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix④">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/multiply(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-multiply-a-b-b"><code>b</code><a class="self-link" href="#dom-matrix-multiply-a-b-b"></a></dfn>); // Multiply two matrices 
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑤">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="div(a, b)" id="dom-matrix-div"><code>div</code><a class="self-link" href="#dom-matrix-div"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑥">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/div(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-div-a-b-a"><code>a</code><a class="self-link" href="#dom-matrix-div-a-b-a"></a></dfn>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑦">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/div(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-div-a-b-b"><code>b</code><a class="self-link" href="#dom-matrix-div-a-b-b"></a></dfn>); // Return matrix of element-wise division
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑧">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="mod(a, b)" id="dom-matrix-mod"><code>mod</code><a class="self-link" href="#dom-matrix-mod"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑨">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/mod(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-mod-a-b-a"><code>a</code><a class="self-link" href="#dom-matrix-mod-a-b-a"></a></dfn>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⓪">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/mod(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-mod-a-b-b"><code>b</code><a class="self-link" href="#dom-matrix-mod-a-b-b"></a></dfn>); // Return element-wise remainder of division
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①①">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="sum(a, b)" id="dom-matrix-sum"><code>sum</code><a class="self-link" href="#dom-matrix-sum"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①②">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/sum(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-sum-a-b-a"><code>a</code><a class="self-link" href="#dom-matrix-sum-a-b-a"></a></dfn>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①③">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/sum(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-sum-a-b-b"><code>b</code><a class="self-link" href="#dom-matrix-sum-a-b-b"></a></dfn>); // Return matrix of sum of elements of both matrices
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①④">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="subtract(a, b)" id="dom-matrix-subtract"><code>subtract</code><a class="self-link" href="#dom-matrix-subtract"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑤">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/subtract(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-subtract-a-b-a"><code>a</code><a class="self-link" href="#dom-matrix-subtract-a-b-a"></a></dfn>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑥">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/subtract(a, b)" data-dfn-type="argument" data-export="" id="dom-matrix-subtract-a-b-b"><code>b</code><a class="self-link" href="#dom-matrix-subtract-a-b-b"></a></dfn>); // Return element-wise subtraction
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑦">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="square(a)" id="dom-matrix-square"><code>square</code><a class="self-link" href="#dom-matrix-square"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑧">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/square(a)" data-dfn-type="argument" data-export="" id="dom-matrix-square-a-a"><code>a</code><a class="self-link" href="#dom-matrix-square-a-a"></a></dfn>); // Return element-wise square 
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑨">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="sqrt(a)" id="dom-matrix-sqrt"><code>sqrt</code><a class="self-link" href="#dom-matrix-sqrt"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⓪">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/sqrt(a)" data-dfn-type="argument" data-export="" id="dom-matrix-sqrt-a-a"><code>a</code><a class="self-link" href="#dom-matrix-sqrt-a-a"></a></dfn>); // Return element square root 

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②①">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="mean(a)" id="dom-matrix-mean"><code>mean</code><a class="self-link" href="#dom-matrix-mean"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②②">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/mean(a)" data-dfn-type="argument" data-export="" id="dom-matrix-mean-a-a"><code>a</code><a class="self-link" href="#dom-matrix-mean-a-a"></a></dfn>); // Return mean of elements across dimensions
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②③">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="min(a)" id="dom-matrix-min"><code>min</code><a class="self-link" href="#dom-matrix-min"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②④">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/min(a)" data-dfn-type="argument" data-export="" id="dom-matrix-min-a-a"><code>a</code><a class="self-link" href="#dom-matrix-min-a-a"></a></dfn>); // Return minimum of elements across dimensions
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑤">Matrix</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="max(a)" id="dom-matrix-max"><code>max</code><a class="self-link" href="#dom-matrix-max"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑥">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/max(a)" data-dfn-type="argument" data-export="" id="dom-matrix-max-a-a"><code>a</code><a class="self-link" href="#dom-matrix-max-a-a"></a></dfn>); // Return maximum of elements acorss dimensions

    <span class="kt">Promise</span> &lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float" id="ref-for-idl-float"><span class="kt">float</span></a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="selectFloat(a, x, y)|selectFloat(a, x)|selectFloat(a)" id="dom-matrix-selectfloat"><code>selectFloat</code><a class="self-link" href="#dom-matrix-selectfloat"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑦">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/selectFloat(a, x, y), Matrix/selectFloat(a, x), Matrix/selectFloat(a)" data-dfn-type="argument" data-export="" id="dom-matrix-selectfloat-a-x-y-a"><code>a</code><a class="self-link" href="#dom-matrix-selectfloat-a-x-y-a"></a></dfn>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><span class="kt">unsigned</span> <span class="kt">long</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix/selectFloat(a, x, y), Matrix/selectFloat(a, x), Matrix/selectFloat(a)" data-dfn-type="argument" data-export="" id="dom-matrix-selectfloat-a-x-y-x"><code>x</code><a class="self-link" href="#dom-matrix-selectfloat-a-x-y-x"></a></dfn>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long③"><span class="kt">unsigned</span> <span class="kt">long</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix/selectFloat(a, x, y), Matrix/selectFloat(a, x), Matrix/selectFloat(a)" data-dfn-type="argument" data-export="" id="dom-matrix-selectfloat-a-x-y-y"><code>y</code><a class="self-link" href="#dom-matrix-selectfloat-a-x-y-y"></a></dfn>);
    <span class="kt">Promise</span> &lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long④"><span class="kt">unsigned</span> <span class="kt">long</span></a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="selectLong(a, x, y)|selectLong(a, x)|selectLong(a)" id="dom-matrix-selectlong"><code>selectLong</code><a class="self-link" href="#dom-matrix-selectlong"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑧">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/selectLong(a, x, y), Matrix/selectLong(a, x), Matrix/selectLong(a)" data-dfn-type="argument" data-export="" id="dom-matrix-selectlong-a-x-y-a"><code>a</code><a class="self-link" href="#dom-matrix-selectlong-a-x-y-a"></a></dfn>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑤"><span class="kt">unsigned</span> <span class="kt">long</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix/selectLong(a, x, y), Matrix/selectLong(a, x), Matrix/selectLong(a)" data-dfn-type="argument" data-export="" id="dom-matrix-selectlong-a-x-y-x"><code>x</code><a class="self-link" href="#dom-matrix-selectlong-a-x-y-x"></a></dfn>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑥"><span class="kt">unsigned</span> <span class="kt">long</span></a> <dfn class="nv idl-code" data-dfn-for="Matrix/selectLong(a, x, y), Matrix/selectLong(a, x), Matrix/selectLong(a)" data-dfn-type="argument" data-export="" id="dom-matrix-selectlong-a-x-y-y"><code>y</code><a class="self-link" href="#dom-matrix-selectlong-a-x-y-y"></a></dfn>);

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name">String</a>> <dfn class="nv idl-code" data-dfn-for="Matrix" data-dfn-type="method" data-export="" data-lt="toJSON(a)" id="dom-matrix-tojson"><code>toJSON</code><a class="self-link" href="#dom-matrix-tojson"></a></dfn> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑨">Matrix</a> <dfn class="nv idl-code" data-dfn-for="Matrix/toJSON(a)" data-dfn-type="argument" data-export="" id="dom-matrix-tojson-a-a"><code>a</code><a class="self-link" href="#dom-matrix-tojson-a-a"></a></dfn>);
};
    
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="sparsemat"><code>SparseMat</code><a class="self-link" href="#sparsemat"></a></dfn> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③⓪">Matrix</a> {
    // to do 
};
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="densemat"><code>DenseMat</code><a class="self-link" href="#densemat"></a></dfn> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③①">Matrix</a> {}; 
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="sparsevec"><code>SparseVec</code><a class="self-link" href="#sparsevec"></a></dfn> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③②">Matrix</a> {};
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="densevec"><code>DenseVec</code><a class="self-link" href="#densevec"></a></dfn> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③③">Matrix</a> {};
</pre>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#dom-matrix-bitsize">bitSize</a><span>, in §10</span>
   <li><a href="#deep-neural-networks">deep neural networks</a><span>, in §3</span>
   <li><a href="#densemat">DenseMat</a><span>, in §10</span>
   <li><a href="#densevec">DenseVec</a><span>, in §10</span>
   <li><a href="#dom-matrix-div">div(a, b)</a><span>, in §10</span>
   <li><a href="#dnns">DNNs</a><span>, in §3</span>
   <li><a href="#dom-matrix-fromarray">fromArray(buf)</a><span>, in §10</span>
   <li><a href="#dom-matrix-fromjson">fromJSON(str)</a><span>, in §10</span>
   <li><a href="#dom-matrix-height">height</a><span>, in §10</span>
   <li><a href="#incremental-learning">incremental learning</a><span>, in §3</span>
   <li><a href="#infer">infer</a><span>, in §3</span>
   <li><a href="#inference">inference</a><span>, in §3</span>
   <li><a href="#dom-matrix-istransposed">isTransposed</a><span>, in §10</span>
   <li><a href="#dom-matrix-isvector">isVector</a><span>, in §10</span>
   <li><a href="#machine-learning">machine learning</a><span>, in §3</span>
   <li><a href="#matrix">Matrix</a><span>, in §10</span>
   <li><a href="#dom-matrix-max">max(a)</a><span>, in §10</span>
   <li><a href="#dom-matrix-mean">mean(a)</a><span>, in §10</span>
   <li><a href="#dom-matrix-min">min(a)</a><span>, in §10</span>
   <li><a href="#dom-matrix-mod">mod(a, b)</a><span>, in §10</span>
   <li><a href="#dom-matrix-multiply">multiply(a, b)</a><span>, in §10</span>
   <li><a href="#neural-networks">neural networks</a><span>, in §3</span>
   <li><a href="#dom-matrix-rawmatrix">rawMatrix</a><span>, in §10</span>
   <li><a href="#dom-matrix-selectfloat">selectFloat(a)</a><span>, in §10</span>
   <li><a href="#dom-matrix-selectfloat">selectFloat(a, x)</a><span>, in §10</span>
   <li><a href="#dom-matrix-selectfloat">selectFloat(a, x, y)</a><span>, in §10</span>
   <li><a href="#dom-matrix-selectlong">selectLong(a)</a><span>, in §10</span>
   <li><a href="#dom-matrix-selectlong">selectLong(a, x)</a><span>, in §10</span>
   <li><a href="#dom-matrix-selectlong">selectLong(a, x, y)</a><span>, in §10</span>
   <li><a href="#sparsemat">SparseMat</a><span>, in §10</span>
   <li><a href="#sparsevec">SparseVec</a><span>, in §10</span>
   <li><a href="#dom-matrix-sqrt">sqrt(a)</a><span>, in §10</span>
   <li><a href="#dom-matrix-square">square(a)</a><span>, in §10</span>
   <li><a href="#dom-matrix-subtract">subtract(a, b)</a><span>, in §10</span>
   <li><a href="#dom-matrix-sum">sum(a, b)</a><span>, in §10</span>
   <li><a href="#dom-matrix-tojson">toJSON(a)</a><span>, in §10</span>
   <li><a href="#train">train</a><span>, in §3</span>
   <li><a href="#training">training</a><span>, in §3</span>
   <li><a href="#transfer-learning">transfer learning</a><span>, in §3</span>
   <li><a href="#dom-matrix-width">width</a><span>, in §10</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><a href="https://heycam.github.io/webidl/#idl-ArrayBuffer">ArrayBuffer</a>
     <li><a href="https://heycam.github.io/webidl/#Exposed">Exposed</a>
     <li><a href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a>
     <li><a href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>
     <li><a href="https://heycam.github.io/webidl/#idl-float">float</a>
     <li><a href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Cameron McCormack; Boris Zbarsky; Tobie Langel. <a href="https://heycam.github.io/webidl/">Web IDL</a>. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①">Exposed</a>=<span class="n">Windows</span>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①">SecureContext</a>]
<span class="kt">interface</span> <a class="nv" href="#matrix"><code>Matrix</code></a> {
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②"><span class="kt">ArrayBuffer</span></a> <a class="nv" data-readonly="" data-type="ArrayBuffer" href="#dom-matrix-rawmatrix"><code>rawMatrix</code></a>; 
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑦"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv" data-readonly="" data-type="unsigned long" href="#dom-matrix-height"><code>height</code></a>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①①"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv" data-readonly="" data-type="unsigned long" href="#dom-matrix-width"><code>width</code></a>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean②"><span class="kt">boolean</span></a> <a class="nv" data-readonly="" data-type="boolean" href="#dom-matrix-istransposed"><code>isTransposed</code></a>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①①"><span class="kt">boolean</span></a> <a class="nv" data-readonly="" data-type="boolean" href="#dom-matrix-isvector"><code>isVector</code></a>;
    <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name">int</a> <a class="nv" data-readonly="" data-type="int" href="#dom-matrix-bitsize"><code>bitSize</code></a>; // Represent which numerical representation is used

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③⑤">Matrix</a>> <a class="nv" href="#dom-matrix-fromjson"><code>fromJSON</code></a> (<a class="n" data-link-type="idl-name">String</a> <a class="nv" href="#dom-matrix-fromjson-str-str"><code>str</code></a>);
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①①⓪">Matrix</a>> <a class="nv" href="#dom-matrix-fromarray"><code>fromArray</code></a> (<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①①"><span class="kt">ArrayBuffer</span></a> <a class="nv" href="#dom-matrix-fromarray-buf-buf"><code>buf</code></a>);

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②①⓪">Matrix</a>> <a class="nv" href="#dom-matrix-multiply"><code>multiply</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③④">Matrix</a> <a class="nv" href="#dom-matrix-multiply-a-b-a"><code>a</code></a>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix④①">Matrix</a> <a class="nv" href="#dom-matrix-multiply-a-b-b"><code>b</code></a>); // Multiply two matrices 
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑤①">Matrix</a>> <a class="nv" href="#dom-matrix-div"><code>div</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑥①">Matrix</a> <a class="nv" href="#dom-matrix-div-a-b-a"><code>a</code></a>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑦①">Matrix</a> <a class="nv" href="#dom-matrix-div-a-b-b"><code>b</code></a>); // Return matrix of element-wise division
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑧①">Matrix</a>> <a class="nv" href="#dom-matrix-mod"><code>mod</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix⑨①">Matrix</a> <a class="nv" href="#dom-matrix-mod-a-b-a"><code>a</code></a>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⓪①">Matrix</a> <a class="nv" href="#dom-matrix-mod-a-b-b"><code>b</code></a>); // Return element-wise remainder of division
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①①①">Matrix</a>> <a class="nv" href="#dom-matrix-sum"><code>sum</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①②①">Matrix</a> <a class="nv" href="#dom-matrix-sum-a-b-a"><code>a</code></a>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①③①">Matrix</a> <a class="nv" href="#dom-matrix-sum-a-b-b"><code>b</code></a>); // Return matrix of sum of elements of both matrices
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①④①">Matrix</a>> <a class="nv" href="#dom-matrix-subtract"><code>subtract</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑤①">Matrix</a> <a class="nv" href="#dom-matrix-subtract-a-b-a"><code>a</code></a>, <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑥①">Matrix</a> <a class="nv" href="#dom-matrix-subtract-a-b-b"><code>b</code></a>); // Return element-wise subtraction
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑦①">Matrix</a>> <a class="nv" href="#dom-matrix-square"><code>square</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑧①">Matrix</a> <a class="nv" href="#dom-matrix-square-a-a"><code>a</code></a>); // Return element-wise square 
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix①⑨①">Matrix</a>> <a class="nv" href="#dom-matrix-sqrt"><code>sqrt</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⓪①">Matrix</a> <a class="nv" href="#dom-matrix-sqrt-a-a"><code>a</code></a>); // Return element square root 

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②①①">Matrix</a>> <a class="nv" href="#dom-matrix-mean"><code>mean</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②②①">Matrix</a> <a class="nv" href="#dom-matrix-mean-a-a"><code>a</code></a>); // Return mean of elements across dimensions
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②③①">Matrix</a>> <a class="nv" href="#dom-matrix-min"><code>min</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②④①">Matrix</a> <a class="nv" href="#dom-matrix-min-a-a"><code>a</code></a>); // Return minimum of elements across dimensions
    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑤①">Matrix</a>> <a class="nv" href="#dom-matrix-max"><code>max</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑥①">Matrix</a> <a class="nv" href="#dom-matrix-max-a-a"><code>a</code></a>); // Return maximum of elements acorss dimensions

    <span class="kt">Promise</span> &lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float" id="ref-for-idl-float①"><span class="kt">float</span></a>> <a class="nv" href="#dom-matrix-selectfloat"><code>selectFloat</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑦①">Matrix</a> <a class="nv" href="#dom-matrix-selectfloat-a-x-y-a"><code>a</code></a>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long②①"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv" href="#dom-matrix-selectfloat-a-x-y-x"><code>x</code></a>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long③①"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv" href="#dom-matrix-selectfloat-a-x-y-y"><code>y</code></a>);
    <span class="kt">Promise</span> &lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long④①"><span class="kt">unsigned</span> <span class="kt">long</span></a>> <a class="nv" href="#dom-matrix-selectlong"><code>selectLong</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑧①">Matrix</a> <a class="nv" href="#dom-matrix-selectlong-a-x-y-a"><code>a</code></a>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑤①"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv" href="#dom-matrix-selectlong-a-x-y-x"><code>x</code></a>, <span class="kt">optional</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑥①"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv" href="#dom-matrix-selectlong-a-x-y-y"><code>y</code></a>);

    <span class="kt">Promise</span> &lt;<a class="n" data-link-type="idl-name">String</a>> <a class="nv" href="#dom-matrix-tojson"><code>toJSON</code></a> (<a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix②⑨①">Matrix</a> <a class="nv" href="#dom-matrix-tojson-a-a"><code>a</code></a>);
};
    
<span class="kt">interface</span> <a class="nv" href="#sparsemat"><code>SparseMat</code></a> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③⓪①">Matrix</a> {
    // to do 
};
<span class="kt">interface</span> <a class="nv" href="#densemat"><code>DenseMat</code></a> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③①①">Matrix</a> {}; 
<span class="kt">interface</span> <a class="nv" href="#sparsevec"><code>SparseVec</code></a> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③②①">Matrix</a> {};
<span class="kt">interface</span> <a class="nv" href="#densevec"><code>DenseVec</code></a> : <a class="n" data-link-type="idl-name" href="#matrix" id="ref-for-matrix③③①">Matrix</a> {};

</pre>
  <aside class="dfn-panel" data-for="matrix">
   <b><a href="#matrix">#matrix</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-matrix">10. Strawman Proposal</a> <a href="#ref-for-matrix①">(2)</a> <a href="#ref-for-matrix②">(3)</a> <a href="#ref-for-matrix③">(4)</a> <a href="#ref-for-matrix④">(5)</a> <a href="#ref-for-matrix⑤">(6)</a> <a href="#ref-for-matrix⑥">(7)</a> <a href="#ref-for-matrix⑦">(8)</a> <a href="#ref-for-matrix⑧">(9)</a> <a href="#ref-for-matrix⑨">(10)</a> <a href="#ref-for-matrix①⓪">(11)</a> <a href="#ref-for-matrix①①">(12)</a> <a href="#ref-for-matrix①②">(13)</a> <a href="#ref-for-matrix①③">(14)</a> <a href="#ref-for-matrix①④">(15)</a> <a href="#ref-for-matrix①⑤">(16)</a> <a href="#ref-for-matrix①⑥">(17)</a> <a href="#ref-for-matrix①⑦">(18)</a> <a href="#ref-for-matrix①⑧">(19)</a> <a href="#ref-for-matrix①⑨">(20)</a> <a href="#ref-for-matrix②⓪">(21)</a> <a href="#ref-for-matrix②①">(22)</a> <a href="#ref-for-matrix②②">(23)</a> <a href="#ref-for-matrix②③">(24)</a> <a href="#ref-for-matrix②④">(25)</a> <a href="#ref-for-matrix②⑤">(26)</a> <a href="#ref-for-matrix②⑥">(27)</a> <a href="#ref-for-matrix②⑦">(28)</a> <a href="#ref-for-matrix②⑧">(29)</a> <a href="#ref-for-matrix②⑨">(30)</a> <a href="#ref-for-matrix③⓪">(31)</a> <a href="#ref-for-matrix③①">(32)</a> <a href="#ref-for-matrix③②">(33)</a> <a href="#ref-for-matrix③③">(34)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>